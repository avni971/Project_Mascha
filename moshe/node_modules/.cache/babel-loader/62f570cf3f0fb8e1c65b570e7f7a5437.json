{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yuval\\\\Documents\\\\GitHub\\\\Project_Mascha\\\\moshe\\\\src\\\\components\\\\areyousure.js\";\nimport React from 'react';\nimport { auth } from '../firebase/firebase';\nimport \"firebase/firestore\";\nimport { Button } from 'react-bootstrap';\nimport { db } from '../firebase/firebase';\nimport firebase from \"firebase/app\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Areyousure extends React.Component {\n  // constructor(props){\n  //     super(props) \n  // }\n  deletethisuser(props) {\n    var user = auth.currentUser;\n    console.log(user);\n\n    try {\n      console.log(user.email);\n      var newusertodb = db.collection(\"users\").doc(\"users_doc\");\n      let dbuser = [user.email];\n      newusertodb.update({\n        users: firebase.firestore.FieldValue.arrayRemove(...dbuser),\n        admins: firebase.firestore.FieldValue.arrayRemove(...dbuser)\n      });\n      user.delete();\n      props.history.push({\n        pathname: \"/Login\"\n      });\n    } catch (e) {\n      console.log(e);\n      alert(\"user already deleted\");\n      props.history.push({\n        pathname: \"/Login\"\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"you are about to delete your user,are you sure?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn\",\n        id: \"spa\",\n        type: \"submit\",\n        onClick: () => {\n          this.deletethisuser(this.props);\n        },\n        children: \"yes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this);\n  }\n\n} // const Areyousure1 = () => {\n// }\n\n\nexport default Areyousure;","map":{"version":3,"sources":["C:/Users/Yuval/Documents/GitHub/Project_Mascha/moshe/src/components/areyousure.js"],"names":["React","auth","Button","db","firebase","Areyousure","Component","deletethisuser","props","user","currentUser","console","log","email","newusertodb","collection","doc","dbuser","update","users","firestore","FieldValue","arrayRemove","admins","delete","history","push","pathname","e","alert","render"],"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,sBAAnB;AACA,OAAO,oBAAP;AACA,SAAQC,MAAR,QAAqB,iBAArB;AACA,SAAQC,EAAR,QAAiB,sBAAjB;AACA,OAAOC,QAAP,MAAqB,cAArB;;;AAIA,MAAMC,UAAN,SAAyBL,KAAK,CAACM,SAA/B,CAAwC;AACpC;AACA;AACA;AAGAC,EAAAA,cAAc,CAACC,KAAD,EAAO;AACjB,QAAIC,IAAI,GAACR,IAAI,CAACS,WAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AACA,QAAG;AACCE,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,KAAjB;AACA,UAAIC,WAAW,GAAGX,EAAE,CAACY,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2B,WAA3B,CAAlB;AACA,UAAIC,MAAM,GAAC,CAACR,IAAI,CAACI,KAAN,CAAX;AACAC,MAAAA,WAAW,CAACI,MAAZ,CAAmB;AACfC,QAAAA,KAAK,EAACf,QAAQ,CAACgB,SAAT,CAAmBC,UAAnB,CAA8BC,WAA9B,CAA0C,GAAGL,MAA7C,CADS;AAEfM,QAAAA,MAAM,EAAEnB,QAAQ,CAACgB,SAAT,CAAmBC,UAAnB,CAA8BC,WAA9B,CAA0C,GAAGL,MAA7C;AAFO,OAAnB;AAIAR,MAAAA,IAAI,CAACe,MAAL;AACJhB,MAAAA,KAAK,CAACiB,OAAN,CAAcC,IAAd,CAAmB;AACfC,QAAAA,QAAQ,EAAC;AADM,OAAnB;AAEH,KAXG,CAYA,OAAMC,CAAN,EACA;AACIjB,MAAAA,OAAO,CAACC,GAAR,CAAYgB,CAAZ;AACAC,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACArB,MAAAA,KAAK,CAACiB,OAAN,CAAcC,IAAd,CAAmB;AACnBC,QAAAA,QAAQ,EAAC;AADU,OAAnB;AAEH;AACJ;;AAEDG,EAAAA,MAAM,GAAE;AAEJ,wBACI;AAAA,8BACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eAEA,QAAC,MAAD;AAAQ,QAAA,SAAS,EAAC,KAAlB;AAAwB,QAAA,EAAE,EAAC,KAA3B;AAAiC,QAAA,IAAI,EAAG,QAAxC;AAAiD,QAAA,OAAO,EAAE,MAAI;AAClD,eAAKvB,cAAL,CAAoB,KAAKC,KAAzB;AACR,SAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AASH;;AAzCmC,C,CA4CxC;AAEA;;;AAEA,eAAeH,UAAf","sourcesContent":["\r\nimport React from 'react'\r\nimport {auth} from '../firebase/firebase'\r\nimport \"firebase/firestore\";\r\nimport {Button} from 'react-bootstrap'\r\nimport {db} from '../firebase/firebase'\r\nimport firebase from \"firebase/app\";\r\n\r\n\r\n\r\nclass Areyousure extends React.Component{\r\n    // constructor(props){\r\n    //     super(props) \r\n    // }\r\n\r\n    \r\n    deletethisuser(props){\r\n        var user=auth.currentUser;\r\n        console.log(user);\r\n        try{\r\n            console.log(user.email);\r\n            var newusertodb = db.collection(\"users\").doc(\"users_doc\");\r\n            let dbuser=[user.email];\r\n            newusertodb.update({\r\n                users:firebase.firestore.FieldValue.arrayRemove(...dbuser),\r\n                admins: firebase.firestore.FieldValue.arrayRemove(...dbuser)\r\n            });\r\n            user.delete();\r\n        props.history.push({\r\n            pathname:\"/Login\"})\r\n    }\r\n        catch(e)\r\n        {\r\n            console.log(e);\r\n            alert(\"user already deleted\");\r\n            props.history.push({\r\n            pathname:\"/Login\"})\r\n        }\r\n    }\r\n\r\n    render(){\r\n        \r\n        return (\r\n            <div>\r\n            <h2>you are about to delete your user,are you sure?</h2>\r\n            <Button className=\"btn\" id=\"spa\" type = \"submit\" onClick={()=>{\r\n                        this.deletethisuser(this.props)\r\n               }}>yes</Button>\r\n             </div>\r\n   \r\n            );\r\n    }\r\n\r\n}\r\n// const Areyousure1 = () => {\r\n   \r\n// }\r\n\r\nexport default Areyousure\r\n"]},"metadata":{},"sourceType":"module"}