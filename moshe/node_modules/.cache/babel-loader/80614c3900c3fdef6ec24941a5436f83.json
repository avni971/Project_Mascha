{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yuval\\\\Documents\\\\GitHub\\\\Project_Mascha\\\\moshe\\\\src\\\\components\\\\SignIn.js\";\nimport { Link } from 'react-router-dom';\nimport React from 'react';\nimport { auth } from '../firebase/firebase';\nimport \"firebase/firestore\";\nimport { Button } from 'react-bootstrap';\nimport { db } from '../firebase/firebase';\nimport firebase from \"firebase/app\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SignIn extends React.Component {\n  alterdb(email, adminstatus) {\n    var newusertodb = db.collection(\"users\").doc(\"users_doc\");\n    let user = [email]; //Atomically add a new email and admin_status to the \"users\" array field.\n\n    newusertodb.update({\n      users: firebase.firestore.FieldValue.arrayUnion(...user)\n    }); // // Atomically remove a region from the \"regions\" array field.\n\n    if (adminstatus === \"true\") {\n      //Atomically add a new email and admin_status to the \"admins\" array field.\n      newusertodb.update({\n        admins: firebase.firestore.FieldValue.arrayUnion(...user)\n      });\n    }\n\n    if (adminstatus === \"false\") {\n      //Atomically remove a new email and admin_status to the \"admins\" array field.\n      newusertodb.update({\n        admins: firebase.firestore.FieldValue.arrayRemove(...user)\n      });\n    }\n  }\n\n  signin() {\n    //the switch cause we dont get it right in the input onClick function\n    if (document.getElementById(\"admincheckbox\").value === \"off\") {\n      document.getElementById(\"admincheckbox\").value2 = \"true\";\n    }\n\n    if (document.getElementById(\"admincheckbox\").value === \"on\") {\n      document.getElementById(\"admincheckbox\").value2 = \"false\";\n    }\n\n    var email = document.getElementById(\"email\").value;\n    var password = document.getElementById(\"password\").value;\n    auth.createUserWithEmailAndPassword(email, password).then(userCredential => {\n      let alertmessege = \"User created email: \";\n      alertmessege += email;\n      alertmessege += \" ,password\";\n      alertmessege += password;\n      alert(alertmessege);\n    }).catch(error => {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      alert(\"error message: \" + errorMessage + \"error code : \" + errorCode);\n    });\n    auth.onAuthStateChanged(user => {\n      this.alterdb(email, document.getElementById(\"admincheckbox\").value2);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"ADD USER\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"example@gmail.com\",\n        id: \"email\",\n        onBlur: event => {}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"6lettersatleast\",\n        id: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        className: \"checkbox\",\n        id: \"admincheckbox\",\n        value2: \"false\",\n        onChange: event => {\n          //for some reason it's the complete opposite of what we want so we will switch it on sigin()\n          if (event.target.value === \"on\") {\n            event.target.value = \"off\";\n          } else if (event.target.value === \"off\") {\n            event.target.value = \"on\";\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        id: \"spa\",\n        children: \"admin?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"w-20\",\n        id: \"spa\",\n        type: \"submit\",\n        onClick: () => {\n          this.signin();\n        },\n        children: \"Create User/\\u05E6\\u05D5\\u05E8 \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/Login\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"w-20\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["C:/Users/Yuval/Documents/GitHub/Project_Mascha/moshe/src/components/SignIn.js"],"names":["Link","React","auth","Button","db","firebase","SignIn","Component","alterdb","email","adminstatus","newusertodb","collection","doc","user","update","users","firestore","FieldValue","arrayUnion","admins","arrayRemove","signin","document","getElementById","value","value2","password","createUserWithEmailAndPassword","then","userCredential","alertmessege","alert","catch","error","errorCode","code","errorMessage","message","onAuthStateChanged","render","event","target"],"mappings":"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","sourcesContent":["import{Link} from 'react-router-dom'\r\n\r\nimport React from 'react'\r\nimport {auth} from '../firebase/firebase'\r\nimport \"firebase/firestore\";\r\nimport {Button} from 'react-bootstrap'\r\nimport {db} from '../firebase/firebase'\r\nimport firebase from \"firebase/app\";\r\n\r\n\r\nclass SignIn extends React.Component{\r\n \r\nalterdb(email,adminstatus){\r\nvar newusertodb = db.collection(\"users\").doc(\"users_doc\");\r\n\r\nlet user=[email];\r\n//Atomically add a new email and admin_status to the \"users\" array field.\r\nnewusertodb.update({\r\n    users: firebase.firestore.FieldValue.arrayUnion(...user),\r\n});\r\n\r\n// // Atomically remove a region from the \"regions\" array field.\r\n\r\nif(adminstatus===\"true\")\r\n{\r\n  //Atomically add a new email and admin_status to the \"admins\" array field.\r\n  newusertodb.update({\r\n      admins: firebase.firestore.FieldValue.arrayUnion(...user),\r\n  });\r\n}\r\nif(adminstatus===\"false\")\r\n{\r\n  //Atomically remove a new email and admin_status to the \"admins\" array field.\r\n  newusertodb.update({\r\n    admins: firebase.firestore.FieldValue.arrayRemove(...user),\r\n});\r\n}\r\n  \r\n\r\n\r\n}\r\n    signin(  )\r\n    {\r\n\r\n        //the switch cause we dont get it right in the input onClick function\r\n        if(document.getElementById(\"admincheckbox\").value===\"off\")\r\n        {\r\n            document.getElementById(\"admincheckbox\").value2=\"true\"\r\n        }\r\n        if(document.getElementById(\"admincheckbox\").value===\"on\")\r\n        {\r\n            document.getElementById(\"admincheckbox\").value2=\"false\"\r\n        }\r\n        var email=document.getElementById(\"email\").value;\r\n        var password=document.getElementById(\"password\").value;\r\n        \r\n        \r\n      \r\n        auth.createUserWithEmailAndPassword(email,password).then((userCredential) => {\r\n            let alertmessege=\"User created email: \";\r\n            alertmessege+=email;\r\n            alertmessege+=\" ,password\";\r\n            \r\n            alertmessege+=password;\r\n            alert(alertmessege);\r\n        \r\n        \r\n              })\r\n              .catch((error) => {\r\n                var errorCode = error.code;\r\n                var errorMessage = error.message;\r\n                alert(\"error message: \"+errorMessage+\"error code : \"+errorCode);\r\n              });\r\n              \r\n         auth.onAuthStateChanged(user=>{\r\n           \r\n              this.alterdb(email,document.getElementById(\"admincheckbox\").value2);\r\n         })\r\n    }\r\n  \r\n\r\n    render(){\r\n        \r\n        return (\r\n            <div>\r\n               <h4>ADD USER</h4> \r\n               <input type=\"email\" placeholder=\"example@gmail.com\" id=\"email\" onBlur={(event)=>{\r\n               }}/>\r\n               <input type=\"password\" placeholder=\"6lettersatleast\" id=\"password\" />\r\n               \r\n               <input type=\"checkbox\" className=\"checkbox\" id=\"admincheckbox\" value2=\"false\"  onChange={(event)=>{\r\n\r\n                   //for some reason it's the complete opposite of what we want so we will switch it on sigin()\r\n                   if(event.target.value===\"on\" )\r\n                   {\r\n                 event.target.value=\"off\";\r\n                       }\r\n                       else if(event.target.value===\"off\") \r\n                       { event.target.value=\"on\";}\r\n                       \r\n\r\n               \r\n                   \r\n               }}/><label id=\"spa\">admin?</label>\r\n\r\n               <Button className=\"w-20\" id=\"spa\" type = \"submit\" onClick={()=>{\r\n                        this.signin()\r\n               }}>Create User/צור משתמש</Button>\r\n                \r\n                \r\n               \r\n               <Link to='/Login'><Button className=\"w-20\">Back</Button></Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default SignIn\r\n"]},"metadata":{},"sourceType":"module"}